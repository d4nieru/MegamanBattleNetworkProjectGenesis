<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_mett_base</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_virus</parentName>
  <maskName>spr_mett_base</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//image_blend = c_silver
VChild = noone;
Virus_Type = 0;
Mask = spr_mett_base;
image_speed = 0;
Down = 1;
Up = 2;
Right = 3;
Left = 4;
Direction = 0;
In_Sight = false;
Your_Turn = true;
Move_Timer = 50;
Attack_Timer = 45;
Stall_Timer = 45;
Shock_Wave = true;
Damage = 0;
Ex_Count = 0;
Ex_true = true;
ID = id;

//Stats
scr_virus_stats("Mettaur",E_None);
MaxHp = 40;
Hp = 40;
Power = 10;
Shield = false;

//States
State = 1;

Normal = 0;
Paused = 1;
Halt = 2;
Dead = 3;
Wait = 4;
Frozen = 5;

//Create Event Scripts
scr_panel_effects(1);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(obj_mett){
if Order != Max_Order &amp;&amp; Order != 1 {Order -= 1}
}
with(VChild){
 instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Damage
if (Damage * -1) &gt;= Hp{
   Hp = 0;
} 
if State != Frozen &amp;&amp; State != Paused {
   if Hp = 0 {State = Dead;}
} 

if Hp &gt; MaxHp {Hp = MaxHp}
if Hp &lt; 0 {Hp = 0}
 
if Damage &gt; 0{
   Hp += 1;
   Damage -= 1;
}
if Damage &lt; 0{
   Hp -= 1;
   Damage += 1;
}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Attack Order
Max_Order = instance_number(obj_mett);
if Order &gt; Max_Order {Order = Max_Order}

if Order = 0{
  Order = instance_number(obj_mett)
}
if Order != 1{
  if State = Normal {State = Wait;}
}
if Order = 1{
  if State = Wait{
    State = Normal;
  }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Base_S = spr_mett_base;
Fade_In = spr_mett_fadein;
depth = instance_place(x,y,obj_panel).y * -1;
IP = instance_place(x,y,obj_panel);
if State = Normal || State = Halt || State = Wait || State = Frozen {scr_battle_damage_enemy();}
Diff = y - obj_megaman.y
scr_weakness_system();
if Direction != 0 {image_speed = .5;}
if State = Normal{
if Your_Turn{
  if !In_Sight{
    if Diff &lt; 10 &amp;&amp; image_speed = 0 &amp;&amp; spr_mett_base{
      if place_meeting(x,y+24,obj_virus) || place_meeting(x,y+24,obj_object) || !place_meeting(x,y+24,obj_panel_blue_mask) &amp;&amp; place_meeting(x,y+24,obj_panel){
          Stall_Timer -= 1;
          if Stall_Timer = 0 {
            image_index = 0;
            sprite_index = spr_mett_attack;
          }
      }
    }
    if Diff &gt; 10 &amp;&amp; image_speed = 0 &amp;&amp; spr_mett_base{
      if place_meeting(x,y-24,obj_virus) || place_meeting(x,y-24,obj_object) || !place_meeting(x,y-24,obj_panel_blue_mask) &amp;&amp; place_meeting(x,y-24,obj_panel){
          Stall_Timer -= 1;
          if Stall_Timer = 0 {
            image_index = 0;
            sprite_index = spr_mett_attack;
          }
      }
    }    
    
    if Diff &lt; 10 &amp;&amp; image_speed = 0 &amp;&amp; Move_Timer &lt;= 0{
     if place_meeting(x,y+24,obj_panel_blue_mask) &amp;&amp; !place_meeting(x,y+24,obj_virus){ 
      if instance_place(x,y+24,obj_panel).Panel_Status != 3 &amp;&amp; instance_place(x,y+24,obj_panel).Panel_Status != 4{
      with(instance_create(IP.x,IP.y+24,obj_virus_placeholder)){
          Owner = other.id;
          other.VChild = id;
      }          
          Direction = Down;
          //image_speed = .5;
          Move_Timer = 50;
       }
      }
    }
    if Diff &gt; 10 &amp;&amp; image_speed = 0 &amp;&amp; Move_Timer &lt;= 0{
     if place_meeting(x,y-24,obj_panel_blue_mask) &amp;&amp; !place_meeting(x,y-24,obj_virus){ 
      if instance_place(x,y-24,obj_panel).Panel_Status != 3 &amp;&amp; instance_place(x,y-24,obj_panel).Panel_Status != 4
      with(instance_create(IP.x,IP.y-24,obj_virus_placeholder)){
          Owner = other.id;
          other.VChild = id;
      }
      Direction = Up;
      //image_speed = .5;
      Move_Timer = 50;
      }
    }
   }
    if Diff = 10 &amp;&amp; sprite_index = spr_mett_base &amp;&amp; image_index = 0 &amp;&amp; Attack_Timer &lt;= 0{
     image_index = 0;
     sprite_index = spr_mett_attack; 
    }
  if Diff != 10 &amp;&amp; sprite_index = spr_mett_base {Move_Timer -= 1;} if Diff = 10 {Move_Timer = 50;}
  if Diff = 10 {Attack_Timer -= 1;} else {Attack_Timer = 45;}
}
//ShockWave
if sprite_index = spr_mett_attack &amp;&amp; image_index &gt;= 9 &amp;&amp; Shock_Wave{
  with(instance_create(x-35,y-3,obj_mett_shockwave)){
     Owner = other.id
     Power = Owner.Power
  }
   Shock_Wave = false;
}




}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///State Manage

//Animation Speed &amp; Variable
Base = spr_mett_base;
Base_Flash = spr_mett_base_flash;
Attack_A = spr_mett_attack;
Attack_A_Flash = spr_mett_attack_flash;

if State = Normal{
if sprite_index = spr_mett_base &amp;&amp; image_index &gt; 0{
  image_speed = .5;
}
if sprite_index = spr_mett_attack{
  image_speed = .3;
}
}

if State = Paused{
   if sprite_index != Fade_In {image_speed = 0;}
}

if State = Halt{
  image_speed =.2;
  In_Sight = false;
  Your_Turn = true;
  Move_Timer = 50;
  Attack_Timer = 40;
  Shock_Wave = true;
}

if State = Wait{

}

if State = Frozen{
   image_speed = 0;
}


//Panel Effect
if State = Normal || State = Wait{
   scr_panel_effects(0);
}


if State = Dead{
   In_Sight = false;
  Your_Turn = true;
  Move_Timer = 50;
  Attack_Timer = 40;
  Shock_Wave = true;  

  image_speed = 0;
  if sprite_index = Base{
     image_index = 0;
     sprite_index = Base_Flash;
  }
  if sprite_index = Attack_A{
      sprite_index = Attack_A_Flash;
  }
  if Ex_Count = 0 &amp;&amp; Ex_true{
     Ex_true = false;
     with(instance_create(x-16,y-15,obj_expolsion_effect)){
        Owner = other.id;
        Ex_Count = true;
     }    
  }
   if Ex_Count = 1 &amp;&amp; Ex_true{
     Ex_true = false;
     with(instance_create(x+13,y-16,obj_expolsion_effect)){
        Owner = other.id;
        Ex_Count = true;
     }    
  }
   if Ex_Count = 2 &amp;&amp; Ex_true{
     instance_destroy();
     Ex_true = false;
     with(instance_create(x+1,y-3,obj_expolsion_effect)){
        Owner = other.id;
        Ex_Count = true;
     }    
  }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Order Management


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sprite_index = spr_mett_base{
   if Direction = Up{
       y -= 24;
       image_index = 0;
       image_speed = 0;
       Direction = 0;
   }
   if Direction = Down{
       y += 24;
       image_index = 0;
       image_speed = 0;
       Direction = 0;
   }
   if Direction = Right{
      x += 39;
      image_index = 0;
      image_speed = 0;
      Direction = 0;
      sprite_index = spr_mett_base;
      State = Normal;
   }
   if Direction = Left{
     x -= 39;
     image_index = 0;
     image_speed = 0;
     Direction = 0;
     sprite_index = spr_mett_base;
     State = Normal;
   }
}

if sprite_index = spr_mett_attack{
  Attack_Timer = 40;
  Stall_Timer = 40;
  image_index = 0;
  image_speed = 0;
  sprite_index = spr_mett_base;
  Shock_Wave = true;
  if instance_number(obj_mett) &gt; 1{
    State = Wait;
    with(obj_mett){
     Order -= 1  
    }
  }
}
with(VChild){
  instance_destroy();
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();

if Hp &gt; 0 &amp;&amp; sprite_index != Fade_In{
draw_set_font(obj_field.EnemyHp_Font);
draw_text(x-2,y+11,round(Hp));
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
